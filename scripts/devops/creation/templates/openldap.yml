openldap:
  image: osixia/openldap:latest
  environment:
    LDAP_LOG_LEVEL: $LDAP_LOG_LEVEL
    LDAP_ORGANISATION: $LDAP_ORGANISATION
    LDAP_DOMAIN: $LDAP_DOMAIN
    LDAP_BASE_DN: $LDAP_BASE_DN
    LDAP_ADMIN_PASSWORD: $LDAP_ADMIN_PASSWORD
    LDAP_CONFIG_PASSWORD: $LDAP_CONFIG_PASSWORD
    LDAP_READONLY_USER: $LDAP_READONLY_USER
    LDAP_READONLY_USER_USERNAME: $LDAP_READONLY_USER_USERNAME
    LDAP_READONLY_USER_PASSWORD: $LDAP_READONLY_USER_PASSWORD
    LDAP_BACKEND: $LDAP_BACKEND
    LDAP_TLS: $LDAP_TLS
    LDAP_TLS_CRT_FILENAME: $LDAP_TLS_CRT_FILENAME
    LDAP_TLS_KEY_FILENAME: $LDAP_TLS_KEY_FILENAME
    LDAP_TLS_CA_CRT_FILENAME: $LDAP_TLS_CA_CRT_FILENAME
    LDAP_TLS_ENFORCE: $LDAP_TLS_ENFORCE
    LDAP_TLS_CIPHER_SUITE: $LDAP_TLS_CIPHER_SUITE
    LDAP_TLS_VERIFY_CLIENT: $LDAP_TLS_VERIFY_CLIENT
    LDAP_REPLICATION: $LDAP_REPLICATION
    LDAP_REMOVE_CONFIG_AFTER_SETUP: $LDAP_REMOVE_CONFIG_AFTER_SETUP
    LDAP_SSL_HELPER_PREFIX: $LDAP_SSL_HELPER_PREFIX
  volumes:
    - /var/lib/docker/user_data/openldap/ldap:/var/lib/ldap
    - /var/lib/docker/user_data/openldap/slapd.d:/etc/ldap/slapd.d
  ports:
    - "10389:389"
    - "10636:636"
  hostname: "openldap"
  labels:
    aliyun.probe.url: tcp://container:389
    aliyun.probe.initial_delay_seconds: "10"